"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[77150],{77150:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var n=i(16492),r=i(75015),s=i(7979),o=i(85631),c=i(35999),f=i(70583),a=i(61709),h=i(45935),d=i.n(h),l=i(48483),u=i(50667),p=i(83034),__decorate=function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let m=class DragDropGamificationElement extends o.A{constructor(t,e,i,n,r,s,o){super(t,e,i,n,o),this.i18n=t,this.utils=e,this.bootstrap=i,this.voiceControl=n,this.interaction=r,this.contentService=s,this.alert=o}reset(){const t=this.widget.querySelector("tbody");t.innerHTML="",this.shuffledTerms.forEach(((e,i)=>{t.innerHTML+=d()({term:e.term,definition:e.definition,id:this.widget.id,position:i})}))}check(){const t=Array.from(this.widget.querySelectorAll(".drop-choice")),e=t.filter(((t,e)=>{const i=t.querySelector(".drag-term");if(!i)return!1;const n=i.dataset.position,r=this.shuffledTerms[n].term,s=this.shuffledTerms[e].definition;return this.terms.find((t=>t.term===r)).definition===s})).length/t.length;this.interaction.emit(new r.sV({id:this.id,type:this.type,description:this.description,score:e})),1===e&&this.interaction.emit(new r.yz({id:this.id,type:this.type,description:this.description}));this.widget.querySelector(".btn-check-answer").disabled=!0}async init(){await super.init(),this.terms=await this.contentService.get(this.id);const t=this.terms.map((t=>t.term)),e=this.terms.map((t=>t.definition));this.utils.shuffle(t),this.utils.shuffle(e),this.shuffledTerms=t.map(((t,i)=>({term:t,definition:e[i]})));const i=this.widget.querySelector("tbody");this.shuffledTerms.forEach(((t,e)=>{i.innerHTML+=d()({term:t.term,definition:t.definition,id:this.widget.id,position:e})})),this.rows=Array.from(i.querySelectorAll("tr")),console.debug("[DragDrop] Initialized")}};m=__decorate([(0,n.x)({selector:".widget-drag-drop"}),__metadata("design:paramtypes",[p.A,f.A,s.A,a.A,c.A,l.A,u.A])],m);const y=m},48483:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(65360),r=i(70583),__decorate=function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let s=class ContentService{constructor(t){this.utils=t,this.loading=!1}async get(t){for(;this.loading;)await this.utils.sleep(100);if(this.content||(this.loading=!0,this.content=await fetch("./content.json").then((t=>t.json())),this.loading=!1),!this.content[t])throw new Error(`Widget ${t} not found`);return JSON.parse(this.utils.b64DecodeUnicode(this.content[t]))}};s=__decorate([(0,n.k)({global:!0}),__metadata("design:paramtypes",[r.A])],s);const o=s}}]);