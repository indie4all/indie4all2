"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[2577],{7006:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(16492),s=n(75015),r=n(44295),c=n(35999),o=n(57835),a=n(5513),l=n.n(a);class SentenceOrderItemContentElement extends o.A{feedback(e){const t=this.sentence.querySelector(".answer-status");t.setAttribute("aria-label",this.i18n.value(e?"TextCorrect":"TextIncorrect")),t.innerHTML=`\n        <i class="icon ${e?"text-success fas fa-check":"text-danger fas fa-times"}" aria-hidden="true" \n          title="${this.i18n.value(e?"TextCorrect":"TextIncorrect")}"></i>`}init(e){super.init(e),this.data=JSON.parse(this.utils.b64DecodeUnicode(this.sentence.dataset.content)),this.utils.shuffle(this.data.words);const t=this.sentence.querySelector(".source-words"),n=this.data.words.map(((e,t)=>l()({id:this.id,pos:t,word:e})));t.querySelectorAll("td").forEach(((e,t)=>e.innerHTML=n[t]))}check(){this.feedback(1===this.score)}reset(){this.coordinates=[0,0],this.sentence.querySelectorAll(".answer-status").forEach((e=>{e.setAttribute("aria-label",""),e.textContent=""})),this.sentence.querySelectorAll(".drag-word-item").forEach((e=>{e.setAttribute("tabindex",""===e.textContent?"-1":""),e.classList.remove("focused")}));const e=Array.from(this.sentence.querySelectorAll(".word-item"));e.forEach(((e,t)=>e.setAttribute("tabindex",0===t?"0":"-1"))),this.sentence.querySelectorAll(".source-words").forEach((t=>{t.querySelectorAll("td").forEach(((t,n)=>t.append(e[n])))}))}get score(){const e=Array.from(this.sentence.querySelectorAll(".target-words .word-item")).map((e=>e.textContent.trim()));return this.data.solutions.some((t=>t.split(/\s+/).every(((t,n)=>t===e[n]))))?1:0}}var d=n(28147),h=n(70583),u=n(61709),__decorate=function(e,t,n,i){var s,r=arguments.length,c=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(c=(r<3?s(c):r>3?s(t,n,c):s(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};let f=class SentenceOrderContentElement extends d.A{constructor(e,t,n,i){super(i,t,e),this.i18n=e,this.utils=t,this.interaction=n,this.voiceControl=i}feedback(e){this.widget.querySelector(".text-result").innerHTML=this.i18n.value("TextNumberCorrect",{num:e})}init(){const e=Object.create(null,{init:{get:()=>super.init}});return __awaiter(this,void 0,void 0,(function*(){yield e.init.call(this),this.sentences=Array.from(this.widget.querySelectorAll(".widget-sentence-order-item")).map((e=>{const t=new SentenceOrderItemContentElement(this.i18n,this.utils);return t.init(e),t}))}))}check(){this.sentences.forEach((e=>e.check()));const e=this.sentences.map((e=>e.score)),t=e.reduce(((e,t)=>e+t),0),n=t/e.length;this.interaction.emit(new s.sV({id:this.id,type:this.type,description:this.description,score:n})),1===n&&this.interaction.emit(new s.yz({id:this.id,type:this.type,description:this.description})),this.feedback(t)}reset(){this.interaction.emit(new s.nz({id:this.id,type:this.type,description:this.description})),this.sentences.forEach((e=>e.reset())),this.widget.querySelector(".text-result").innerHTML=""}};f=__decorate([(0,i.x)({selector:".widget-sentence-order"}),__metadata("design:paramtypes",[r.A,h.A,c.A,u.A])],f);const p=f}}]);