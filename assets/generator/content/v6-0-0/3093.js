"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[3093],{16492:(t,e,i)=>{i.d(e,{x:()=>Widget});var o=i(7181),n=i(40561);function Widget(t){const e=o.Ay.get(n.default);return function(i){console.debug("Registering widget "+i.name+" for selector "+t.selector),e.registerWidget(t.selector,i)}}},19412:(t,e,i)=>{i.d(e,{A:()=>Element});var o=i(16126),n=i(3605);class Element{constructor(t,e,i,o){this.voiceControl=t,this.utils=e,this.i18n=i,this.alert=o,this._activityNumber=0,this._preload=!1}async init(){if(!this._widget)throw new Error("ElementHTML widget has not been set.");this.voiceControlButton&&(this.voiceControlButton.addEventListener("click",(()=>{if(this.voiceControl.currentTarget!==this.id){for(;this.voiceControl.numTargets>1;)this.voiceControl.popTarget();return this._parent&&this.voiceControl.addTarget(this._parent.id),void this.voiceControl.addTarget(this.id)}this.voiceControl.popTarget(),this.voiceControlButton&&this.toggleVoiceControlButton(!1)})),this.voiceControl.voiceControlTargetChanged.subscribe((t=>{this.id===t.old&&this.toggleVoiceControlButton(!1),this.id===t.new&&this.toggleVoiceControlButton(!0)})),this.voiceControl.voiceControlActions.pipe((0,o.p)((t=>t.target===this.id))).subscribe((t=>{console.debug(`[Element] Element with ${this.id} received voice action:`,t),t instanceof n.m6?this.voiceControlStart():t instanceof n.$q?this.voiceControlFinish():t instanceof n.DZ?this.voiceControlNext():t instanceof n.vZ?this.voiceControlPrevious():t instanceof n.Fd?this.voiceControlGoto(t.position):t instanceof n.V3?this.voiceControlBack():t instanceof n.gZ?this.voiceControlSelect():t instanceof n.CG?this.voiceControlClose():t instanceof n.sT?this.voiceControlCheck():t instanceof n.XR?this.voiceControlCurrent():t instanceof n.B$?this.voiceControlDelete():t instanceof n._R?this.voiceControlMaximize():t instanceof n.EZ?this.voiceControlMinimize():t instanceof n.$V?this.voiceControlMove(t.position):t instanceof n.ow?this.voiceControlPause():t instanceof n.OR?this.voiceControlPlay():t instanceof n.pr?this.voiceControlRepeat():t instanceof n.lR?this.voiceControlReset():t instanceof n.m6?this.voiceControlStart():t instanceof n.o3?this.voiceControlStop():t instanceof n.HU?this.voiceControlWrite(t.text):t instanceof n.kw&&this.voiceControlUnknown()})))}get description(){return this.widget.dataset.desc||""}get id(){return this.widget.id}get type(){return this.widget.dataset.type||""}get widget(){return this._widget}set widget(t){this._widget=t}get parent(){return this._parent}set parent(t){this._parent=t}get preload(){return this._preload}get voiceControlButton(){return this._voiceControlButton||(this._voiceControlButton=document.querySelector(`#speech-to-action-${this.id}`)),this._voiceControlButton}set activityNumber(t){this._activityNumber=t,this.voiceControlButton&&(this.voiceControlButton.innerHTML+=`<span class="element-number">${this.i18n.value("activity-number",{num:t})}</span>`)}toggleHighlight(t){this.widget.classList.toggle("speech-focused",t)}toggleVoiceControlButton(t){if(this.voiceControlButton){const e=this.voiceControlButton.querySelector("svg");e&&(e.classList.toggle("fa-head-side-cough",t),e.classList.toggle("fa-head-side-cough-slash",!t))}}showVoiceControlButton(){this.voiceControlButton&&this.voiceControlButton.classList.add("show")}hideVoiceControlButton(){this.voiceControlButton&&this.voiceControlButton.classList.remove("show")}voiceControlStart(){this.toggleVoiceControlButton(!0)}voiceControlFinish(){this.voiceControl.popTarget(),this.toggleVoiceControlButton(!1)}voiceControlClose(){this.voiceControlUnknown()}voiceControlCheck(){this.voiceControlUnknown()}voiceControlCurrent(){this.voiceControlUnknown()}voiceControlDelete(){this.voiceControlUnknown()}voiceControlMaximize(){this.voiceControlUnknown()}voiceControlMinimize(){this.voiceControlUnknown()}voiceControlMove(t){this.voiceControlUnknown()}voiceControlPause(){this.voiceControlUnknown()}voiceControlPlay(){this.voiceControlUnknown()}voiceControlRepeat(){this.voiceControlUnknown()}voiceControlReset(){this.voiceControlUnknown()}voiceControlStop(){this.voiceControlUnknown()}voiceControlWrite(t){this.voiceControlUnknown()}voiceControlNext(){this.voiceControlUnknown()}voiceControlPrevious(){this.voiceControlUnknown()}voiceControlGoto(t){this.voiceControlUnknown()}voiceControlBack(){this.voiceControlUnknown()}voiceControlSelect(){this.voiceControlUnknown()}voiceControlUnknown(){this.alert.danger(this.i18n.vc.value("message.error"))}}},3093:(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var o=i(16492),n=i(19412),s=i(70583),r=i(61709),a=i(50667),l=i(83034),__decorate=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class TableElement extends n.A{constructor(t,e,i,o){super(e,i,t,o),this.i18n=t,this.voice=e,this.utils=i,this.alert=o,this.currentPosition=0,this.lang=this.i18n.getLang()}get focusableElements(){return Array.from(this.widget.querySelectorAll(".dt-orderable-asc, .dt-orderable-desc, .dt-paging-button"))}async initTable(t){const e=this.widget.querySelector("table");if(!e)return;await i.e(52831).then(i.bind(i,52831));const{default:o}=await i.e(71601).then(i.bind(i,71601));e.addEventListener("init.dt",(t=>{t.currentTarget.closest(".dataTables_wrapper").classList.add("table-responsive")})),new o(e,{ordering:!0,paging:!0,searching:!0,info:!0,language:t}),console.debug("[Table] Initialized")}async init(){switch(await super.init(),this.lang){case"ar":i.e(83529).then(i.t.bind(i,83529,19)).then((t=>this.initTable(t.default)));break;case"bg":i.e(72165).then(i.t.bind(i,72165,19)).then((t=>this.initTable(t.default)));break;case"ca":i.e(9158).then(i.t.bind(i,9158,19)).then((t=>this.initTable(t.default)));break;case"cs":i.e(55524).then(i.t.bind(i,55524,19)).then((t=>this.initTable(t.default)));break;case"da":i.e(95937).then(i.t.bind(i,95937,19)).then((t=>this.initTable(t.default)));break;case"de":i.e(41047).then(i.t.bind(i,41047,19)).then((t=>this.initTable(t.default)));break;case"el":i.e(69407).then(i.t.bind(i,69407,19)).then((t=>this.initTable(t.default)));break;case"es":i.e(94105).then(i.t.bind(i,94105,19)).then((t=>this.initTable(t.default)));break;case"et":i.e(24967).then(i.t.bind(i,24967,19)).then((t=>this.initTable(t.default)));break;case"eu":i.e(30580).then(i.t.bind(i,30580,19)).then((t=>this.initTable(t.default)));break;case"fi":i.e(68795).then(i.t.bind(i,68795,19)).then((t=>this.initTable(t.default)));break;case"fr":i.e(71225).then(i.t.bind(i,71225,19)).then((t=>this.initTable(t.default)));break;case"ga":i.e(61282).then(i.t.bind(i,61282,19)).then((t=>this.initTable(t.default)));break;case"gl":i.e(19185).then(i.t.bind(i,19185,19)).then((t=>this.initTable(t.default)));break;case"hr":i.e(20720).then(i.t.bind(i,20720,19)).then((t=>this.initTable(t.default)));break;case"hu":i.e(39353).then(i.t.bind(i,39353,19)).then((t=>this.initTable(t.default)));break;case"it":i.e(84287).then(i.t.bind(i,84287,19)).then((t=>this.initTable(t.default)));break;case"ja":i.e(98575).then(i.t.bind(i,98575,19)).then((t=>this.initTable(t.default)));break;case"lt":i.e(9618).then(i.t.bind(i,9618,19)).then((t=>this.initTable(t.default)));break;case"lv":i.e(22944).then(i.t.bind(i,22944,19)).then((t=>this.initTable(t.default)));break;case"nb":i.e(59056).then(i.t.bind(i,59056,19)).then((t=>this.initTable(t.default)));break;case"nl":i.e(92429).then(i.t.bind(i,92429,19)).then((t=>this.initTable(t.default)));break;case"pl":i.e(95886).then(i.t.bind(i,95886,19)).then((t=>this.initTable(t.default)));break;case"pt":i.e(18181).then(i.t.bind(i,18181,19)).then((t=>this.initTable(t.default)));break;case"ro":i.e(46173).then(i.t.bind(i,46173,19)).then((t=>this.initTable(t.default)));break;case"sk":i.e(24012).then(i.t.bind(i,24012,19)).then((t=>this.initTable(t.default)));break;case"sl":i.e(9293).then(i.t.bind(i,9293,19)).then((t=>this.initTable(t.default)));break;case"sv":i.e(36718).then(i.t.bind(i,36718,19)).then((t=>this.initTable(t.default)));break;case"uk":i.e(306).then(i.t.bind(i,306,19)).then((t=>this.initTable(t.default)));break;default:i.e(22233).then(i.t.bind(i,22233,19)).then((t=>this.initTable(t.default)))}}voiceControlStart(){super.voiceControlStart(),this.focusableElements.forEach((t=>t.classList.remove("focused"))),this.focusableElements[this.currentPosition].classList.add("focused")}voiceControlGoto(t){this.focusableElements.forEach((t=>t.classList.remove("focused"))),this.currentPosition=this.utils.mod(t,this.focusableElements.length),this.focusableElements[this.currentPosition].classList.add("focused")}voiceControlNext(){this.voiceControlGoto(this.currentPosition+1)}voiceControlPrevious(){this.voiceControlGoto(this.currentPosition-1)}voiceControlFinish(){super.voiceControlFinish(),this.focusableElements.forEach((t=>t.classList.remove("focused")))}voiceControlRepeat(){}voiceControlSelect(){this.focusableElements[this.currentPosition].click(),this.focusableElements[this.currentPosition].classList.add("focused")}voiceControlWrite(t){const e=this.widget.querySelector("input[type=search]");e&&(e.value=t,e.dispatchEvent(new Event("paste")))}voiceControlDelete(){const t=this.widget.querySelector("input[type=search]");t&&(t.value="",t.dispatchEvent(new Event("paste")))}};c=__decorate([(0,o.x)({selector:".widget-table"}),__metadata("design:paramtypes",[l.A,r.A,s.A,a.A])],c);const h=c}}]);