"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[4058],{42754:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var r=i(16492),s=i(75015),n=i(7979),o=i(44295),c=i(35999),l=i(71540),u=i(70583),a=i(61709),__decorate=function(t,e,i,r){var s,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter=function(t,e,i,r){return new(i||(i=Promise))((function(s,n){function fulfilled(t){try{step(r.next(t))}catch(t){n(t)}}function rejected(t){try{step(r.throw(t))}catch(t){n(t)}}function step(t){t.done?s(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))};let h=class MatchColumnsContentElement extends l.A{constructor(t,e,i,r,s){super(t,s,e,i),this.bootstrap=t,this.utils=e,this.i18n=i,this.interaction=r,this.voiceControl=s}check(){const t=Array.from(this.widget.querySelectorAll(".match-column .column-list")).map(((t,e)=>Array.from(t.querySelectorAll(".column-term .term-button")).map((t=>t.dataset.term)))),e=this.solutions.reduce(((e,i,r)=>e+i.filter((e=>t[r].includes(e))).length),0)/this.terms.length;this.interaction.emit(new s.sV({id:this.id,type:this.type,description:this.description,score:e})),1==e&&this.interaction.emit(new s.yz({id:this.id,type:this.type,description:this.description})),this.showFeedback()}reset(){super.reset();const t=Array.from(this.widget.querySelectorAll(".column-term"));t.forEach((t=>t.classList.remove("init")));const e=this.widget.querySelector(".term-button");e.innerHTML="",e.dataset.term="",e.setAttribute("tabindex","-1"),e.setAttribute("tabindex","0");this.widget.querySelector(".match-terms .column-list").append(...t),t.forEach(((t,e)=>{t.classList.add("init");const i=t.querySelector(".term-button");i.dataset.term=this.terms[e],i.innerHTML=this.terms[e]})),this.widget.querySelector(".text-result").innerHTML=""}showFeedback(){const t=Array.from(this.widget.querySelectorAll(".match-column .column-list")),e=this.terms.map((t=>this.widget.querySelector('[data-term="'+t+'"]').closest(".column-term"))).filter((e=>{const i=t.indexOf(e.closest(".column-list"));if(-1===i)return!0;const r=e.querySelector(".term-button");return!this.solutions[i].includes(r.dataset.term)})),i=this.terms.length-e.length;this.widget.querySelector(".match-terms .column-list").append(...e),this.widget.querySelector(".text-result").innerHTML=this.i18n.value("TextNumberCorrect",{num:i})}init(){const t=Object.create(null,{init:{get:()=>super.init}});return __awaiter(this,void 0,void 0,(function*(){yield t.init.call(this),this.solutions=JSON.parse(this.utils.b64DecodeUnicode(this.widget.dataset.content)),this.terms=this.solutions.flat(),this.terms.sort(((t,e)=>t.localeCompare(e)));Array.from(this.widget.querySelectorAll(".column-term")).forEach(((t,e)=>{t.classList.add("init"),t.querySelector(".term-button").dataset.term=this.terms[e],t.querySelector(".term-button").innerHTML=this.terms[e]})),this.widget.addEventListener("click",(t=>{t.target.classList.contains("btn-reset")&&this.reset()}))}))}};h=__decorate([(0,r.x)({selector:".widget-match-columns"}),__metadata("design:paramtypes",[n.A,u.A,o.A,c.A,a.A])],h);const d=h}}]);