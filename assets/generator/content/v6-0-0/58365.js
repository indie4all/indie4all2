"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[58365],{53669:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var r=i(16492),s=i(75015),n=i(7979),o=i(71540),a=i(35999),c=i(70583),l=i(61709),u=i(38610),h=i(16126),d=i(50667),m=i(83034),__decorate=function(t,e,i,r){var s,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let y=class MatchColumnsEvaluationElement extends o.A{constructor(t,e,i,r,s,n,o){super(t,r,e,s,o),this.bootstrap=t,this.utils=e,this.interaction=i,this.voiceControl=r,this.i18n=s,this.evaluation=n,this.alert=o}async init(){await super.init(),this.evaluation.attempts.pipe((0,h.p)((t=>t.widgetId===this.id))).subscribe({next:t=>{this.widget.querySelector(".btn-check-answer").disabled=!0,this.widget.querySelector(".text-result").innerHTML=this.i18n.value("common.sent")}}),this.evaluation.get(this.id).subscribe({next:t=>{this.terms=t,this.terms.sort(((t,e)=>t.localeCompare(e)));Array.from(this.widget.querySelectorAll(".column-term")).forEach(((t,e)=>{t.classList.add("init"),t.querySelector(".term-button").dataset.term=this.terms[e],t.querySelector(".term-button").innerHTML=this.terms[e]})),this.widget.addEventListener("click",(t=>{t.target.classList.contains("btn-reset")&&this.reset()}))},error:t=>{this.widget.querySelector(".text-result").innerHTML=this.i18n.value("evaluation.no-data")}}),console.debug("[MatchColumns] Initialized")}check(){const t=Array.from(this.widget.querySelectorAll(".match-column .column-list")).map(((t,e)=>Array.from(t.querySelectorAll(".column-term .term-button")).map((t=>t.dataset.term))));this.evaluation.check(this.id,t).subscribe({next:t=>{this.interaction.emit(new s.yz({id:this.id,type:this.type,description:this.description}));this.widget.querySelector(".btn-check-answer").disabled=!0,this.widget.querySelector(".text-result").innerHTML=this.i18n.value("common.sent")},error:t=>{this.widget.querySelector(".text-result").innerHTML=this.i18n.value("evaluation.no-answer")}})}reset(){super.reset();const t=Array.from(this.widget.querySelectorAll(".column-term"));t.forEach((t=>t.classList.remove("init")));const e=this.widget.querySelector(".term-button");e.innerHTML="",e.dataset.term="",e.setAttribute("tabindex","-1"),e.setAttribute("tabindex","0");this.widget.querySelector(".match-terms .column-list").append(...t),t.forEach(((t,e)=>{t.classList.add("init");const i=t.querySelector(".term-button");i.dataset.term=this.terms[e],i.innerHTML=this.terms[e]}))}};y=__decorate([(0,r.x)({selector:".widget-match-columns"}),__metadata("design:paramtypes",[n.A,c.A,a.A,l.A,m.A,u.A,d.A])],y);const p=y}}]);