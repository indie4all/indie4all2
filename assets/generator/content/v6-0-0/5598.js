"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[5598],{95598:(t,e,i)=>{i.r(e),i.d(e,{default:()=>m});var r=i(16492),n=i(75015),s=i(7979),o=i(85631),c=i(44295),d=i(35999),h=i(70583),l=i(61709),f=i(45935),a=i.n(f),__decorate=function(t,e,i,r){var n,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(s<3?n(o):s>3?n(e,i,o):n(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function fulfilled(t){try{step(r.next(t))}catch(t){s(t)}}function rejected(t){try{step(r.throw(t))}catch(t){s(t)}}function step(t){t.done?n(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))};let u=class DragDropContentElement extends o.A{constructor(t,e,i,r,n){super(t,e,i,r),this.i18n=t,this.utils=e,this.bootstrap=i,this.voiceControl=r,this.interaction=n,this.coordinates=[0,0],this.correctIcon=document.createElement("i"),this.correctIcon.classList.add("correct","fas","fa-check"),this.correctIcon.setAttribute("aria-hidden","true"),this.correctIcon.setAttribute("title",this.i18n.value("TextCorrect")),this.wrongIcon=document.createElement("i"),this.wrongIcon.classList.add("wrong","fas","fa-times"),this.wrongIcon.setAttribute("aria-hidden","true"),this.wrongIcon.setAttribute("title",this.i18n.value("TextIncorrect"))}reset(){this.widget.querySelector(".text-result").innerHTML="";const t=this.widget.querySelector("tbody");t.innerHTML="",this.shuffledTerms.forEach(((e,i)=>{t.innerHTML+=a()({term:e.term,definition:e.definition,id:this.widget.id,position:i})}))}feedback(){const t=this.widget.querySelector(".text-result"),e=Array.from(this.widget.querySelectorAll(".drag-source")),i=Array.from(this.widget.querySelectorAll(".drop-choice"));let r=0;i.forEach(((t,i)=>{const n=t.querySelector(".drag-term");if(n){const t=this.shuffledTerms[i].definition,s=this.terms.findIndex((t=>t.term.trim()===n.textContent.trim()));n.querySelectorAll("svg").forEach((t=>t.remove())),t===this.terms[s].definition?(n.append(this.correctIcon.cloneNode()),r++):(n.append(this.wrongIcon.cloneNode()),e.find((t=>""===t.innerHTML.trim())).append(n))}})),t.innerHTML=r===i.length?this.i18n.value("TextCorrectAnswer"):this.i18n.value("TextNumberCorrect",{num:r})}check(){this.widget.querySelectorAll(".drag-term svg").forEach((t=>t.remove()));const t=Array.from(this.widget.querySelectorAll(".drop-choice")),e=t.filter(((t,e)=>{const i=t.querySelector(".drag-term");if(!i)return!1;const r=this.shuffledTerms[e].definition,n=this.terms.findIndex((t=>t.term.trim()===i.textContent.trim()));return r===this.terms[n].definition})).length/t.length;this.interaction.emit(new n.sV({id:this.id,type:this.type,description:this.description,score:e})),1===e&&this.interaction.emit(new n.yz({id:this.id,type:this.type,description:this.description})),this.feedback()}init(){const t=Object.create(null,{init:{get:()=>super.init}});return __awaiter(this,void 0,void 0,(function*(){yield t.init.call(this),this.terms=JSON.parse(this.utils.b64DecodeUnicode(this.widget.dataset.content));const e=this.terms.map((t=>t.term)),i=this.terms.map((t=>t.definition));this.utils.shuffle(e),this.utils.shuffle(i),this.shuffledTerms=e.map(((t,e)=>({term:t,definition:i[e]})));const r=this.widget.querySelector("tbody");this.shuffledTerms.forEach(((t,e)=>{r.innerHTML+=a()({term:t.term,definition:t.definition,id:this.widget.id,position:e})})),this.rows=Array.from(r.querySelectorAll("tr"))}))}};u=__decorate([(0,r.x)({selector:".widget-drag-drop"}),__metadata("design:paramtypes",[c.A,h.A,s.A,l.A,d.A])],u);const m=u}}]);