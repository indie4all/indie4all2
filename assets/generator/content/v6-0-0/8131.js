"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[8131,25715,93113],{35999:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(65360),n=i(27291),r=i(16126),o=i(81160),__decorate=function(t,e,i,s){var n,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class InteractionService{constructor(){this.interactionSubject=new n.B,this.interactions$=this.interactionSubject.asObservable()}getInteractions(t){return this.interactions$.pipe((0,r.p)((e=>e instanceof t)),(0,o.T)((t=>t)))}emit(t){console.debug("Interaction sent",t),this.interactionSubject.next(t)}};c=__decorate([(0,s.k)({global:!0}),__metadata("design:paramtypes",[])],c);const a=c},75015:(t,e,i)=>{i.d(e,{HB:()=>VideoReadyInteraction,Hc:()=>VideoEndInteraction,Pm:()=>TabClickedInteraction,SB:()=>VideoPlayingInteraction,Ym:()=>VideoPauseInteraction,fy:()=>AudioPauseInteraction,gY:()=>VideoMaximizedInteraction,nz:()=>ActivityResetInteraction,pK:()=>AudioPlayInteraction,ro:()=>AudioStopInteraction,s9:()=>VideoMinimizedInteraction,sV:()=>ActivityCheckInteraction,uX:()=>VideoPlayInteraction,yz:()=>ActivityFinishedInteraction});class Interaction{constructor(t){this._widgetId=t.id,this._widgetType=t.type,this._widgetDescription=t.description}get id(){return this._widgetId}get type(){return this._widgetType}get description(){return this._widgetDescription}}class ActivityResetInteraction extends Interaction{}class ActivityCheckInteraction extends Interaction{constructor(t){super(t),this._score=t.score}get score(){return this._score}}class ActivityFinishedInteraction extends Interaction{}class TabClickedInteraction extends Interaction{constructor(t){super(t),this._tab=t.tab}get tab(){return this._tab}}class AudioPlayInteraction extends Interaction{}class AudioPauseInteraction extends Interaction{}class AudioStopInteraction extends Interaction{}class VideoInteraction extends Interaction{constructor(t){super(t),this._time=t.time,this._duration=t.duration}get time(){return this._time}get duration(){return this._duration}}class VideoPlayInteraction extends VideoInteraction{}class VideoPlayingInteraction extends VideoInteraction{}class VideoEndInteraction extends VideoInteraction{}class VideoPauseInteraction extends VideoInteraction{}class VideoReadyInteraction extends Interaction{}class VideoMaximizedInteraction extends Interaction{}class VideoMinimizedInteraction extends Interaction{}},93113:(t,e,i)=>{i.d(e,{default:()=>a});var s=i(65360),n=i(75015),r=i(27291),o=i(35999),__decorate=function(t,e,i,s){var n,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class ObjectivesService{constructor(t){this.interaction=t,this.objectivesSubject=new r.B,this.objectivesEvent$=this.objectivesSubject.asObservable(),t.getInteractions(n.Pm).subscribe((t=>{this.objectivesSubject.next({id:t.id+t.tab,type:t.type,description:t.description})})),t.getInteractions(n.yz).subscribe((t=>{this.objectivesSubject.next({id:t.id,type:t.type,description:t.description})})),t.getInteractions(n.pK).subscribe((t=>{this.objectivesSubject.next({id:t.id,type:t.type,description:t.description})})),t.getInteractions(n.Hc).subscribe((t=>{this.objectivesSubject.next({id:t.id,type:t.type,description:t.description})}))}get events(){return this.objectivesEvent$}};c=__decorate([(0,s.k)({global:!0}),__metadata("design:paramtypes",[o.A])],c);const a=c},8131:(t,e,i)=>{i.d(e,{default:()=>a});var s=i(65360),n=i(93113),r=i(25715),o=i(7979),__decorate=function(t,e,i,s){var n,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let c=class ProgressScormService extends r.default{convertMilliSecondsIntoSCORM2004Time(t){let e="";const i=6e3,s=36e4,n=864e4,r=26298e4,o=315576e4;let c=Math.floor(t/10);const a=Math.floor(c/o);c-=a*o;const l=Math.floor(c/r);c-=l*r;const d=Math.floor(c/n);c-=d*n;const u=Math.floor(c/s);c-=u*s;const h=Math.floor(c/i);c-=h*i;const p=Math.floor(c/100);return c-=100*p,a>0&&(e+=a+"Y"),l>0&&(e+=l+"M"),d>0&&(e+=d+"D"),c+p+h+u>0&&(e+="T",u>0&&(e+=u+"H"),h>0&&(e+=h+"M"),c+p>0&&(e+=p,c>0&&(e+="."+c),e+="S")),""==e&&(e="0S"),e="P"+e,e}scanForAPI(t){let e=0;for(;null==t.API_1484_11&&null!=t.parent&&t.parent!=t;){if(e++,e>500)return null;t=t.parent}return t.API_1484_11}getScormValue(t){if(this.terminateCalled)return;const e=this.api.GetValue(t);if(""==e){const t=this.api.GetLastError();if("0"!=t){const e=this.api.GetErrorString(t),i=this.api.GetDiagnostic(t);return alert("Error - Could not retrieve a value from the LMS.\n\n"+("Number: "+t+"\nDescription: "+e+"\nDiagnostic: "+i)),""}}return e}setScormValue(t,e){if(this.terminateCalled)return;if("false"!=this.api.SetValue(t,e));else{const t=this.api.GetLastError(),e=this.api.GetErrorString(t),i=this.api.GetDiagnostic(t);alert("Error - Could not store a value in the LMS.\n\nYour results may not be recorded.\n\n"+("Number: "+t+"\nDescription: "+e+"\nDiagnostic: "+i))}}setLessonStatus(t){this.setScormValue("cmi.score.raw",t.toString()),this.setScormValue("cmi.score.min","0"),this.setScormValue("cmi.score.max","100"),this.setScormValue("cmi.score.scaled",(t/100).toString()),100==t?(this.setScormValue("cmi.completion_status","completed"),this.setScormValue("cmi.success_status","passed")):this.setScormValue("cmi.success_status","failed")}terminate(){if(this.terminateCalled)return;const t=this.api.Terminate("");if(this.terminateCalled=!0,"false"!=t);else{const t=this.api.GetLastError(),e=this.api.GetErrorString(t),i=this.api.GetDiagnostic(t);alert("Error - Could not terminate communication with the LMS.\n\nYour results may not be recorded.\n\n"+("Number: "+t+"\nDescription: "+e+"\nDiagnostic: "+i))}}unload(t){if(this.processedUnload)return;this.processedUnload=!0;const e=(new Date).getTime()-this.startTimeStamp.getTime(),i=this.convertMilliSecondsIntoSCORM2004Time(e);this.setScormValue("cmi.session_time",i),t||this.setScormValue("cmi.exit","suspend"),this.terminate()}initObjective(t,e){const i="cmi.objectives."+t;return 0==this.numberObjectives?(this.setScormValue(i+".id",e),this.setScormValue(i+".completion_status","incomplete"),this.setScormValue(i+".success_status","failed"),this.setScormValue(i+".score.raw","0"),this.setScormValue(i+".score.min","0"),this.setScormValue(i+".score.max","100"),this.setScormValue(i+".score.scaled","0"),"incomplete"):this.getScormValue(i+".completion_status")}setObjectiveFinished(t){this.setScormValue(`cmi.objectives.${t}.completion_status`,"completed"),this.setScormValue(`cmi.objectives.${t}.success_status`,"passed"),this.setScormValue(`cmi.objectives.${t}.score.raw`,"100"),this.setScormValue(`cmi.objectives.${t}.score.scaled`,"1")}constructor(t,e){super(t,e),this.objService=t,this.bootstrap=e,this.startTimeStamp=new Date,this.terminateCalled=!1,this.processedUnload=!1,this.numberObjectives=0,this.startTimeStamp=new Date}async init(){if(await super.init(),null!=window.parent&&window.parent!=window&&(this.api=this.scanForAPI(window.parent)),null==this.api&&null!=window.opener&&(this.api=this.scanForAPI(window.opener)),null==this.api){await i.e(31045).then(i.t.bind(i,31045,23));const t=new Scorm2004API({logLevel:2});window.API_1484_11=t,this.api=t}if("false"==this.api.Initialize("")){const t=this.api.GetLastError(),e=this.api.GetErrorString(t),i=this.api.GetDiagnostic(t);return void alert("Error - Could not initialize communication with the LMS.\n\nYour results may not be recorded.\n\n"+("Number: "+t+"\nDescription: "+e+"\nDiagnostic: "+i))}"unknown"==this.getScormValue("cmi.completion_status")&&this.setScormValue("cmi.completion_status","incomplete"),window.addEventListener("beforeunload",(()=>this.unload(!1))),window.addEventListener("unload",(()=>this.unload(!0))),this.numberObjectives=parseInt(this.getScormValue("cmi.objectives._count")),this.objectives.flat().forEach(((t,e)=>{"completed"==this.initObjective(e.toString(),t.id)?(t.percentage=100,this.markObjectiveAsCompleted(t.id)):t.percentage=0})),this.redraw(),this.objService.events.subscribe((t=>{const e="objetivo"+t.id,i=this.objectives.flat(),s=i.find((t=>t.id===e));if(!s)return;if(100===s.percentage)return;s.percentage=100,this.markObjectiveAsCompleted(e),this.redraw();const n=i.findIndex((t=>t.id===e));this.setObjectiveFinished(n.toString());const r=i.length,o=i.filter((t=>100===t.percentage)).length,c=0===r?100:100*o/r;this.setLessonStatus(c)})),console.debug("[Progress] Initialized")}};c=__decorate([(0,s.k)({global:!0}),__metadata("design:paramtypes",[n.default,o.A])],c);const a=c},25715:(t,e,i)=>{i.d(e,{default:()=>c});var s=i(65360),n=i(93113),r=i(7979),__decorate=function(t,e,i,s){var n,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(r<3?n(o):r>3?n(e,i,o):n(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let o=class ProgressService{constructor(t,e){this.objService=t,this.bootstrap=e}markObjectiveAsCompleted(t){const e=document.getElementById(t);e&&(e.classList.add("fas"),e.classList.remove("far"))}redraw(){requestAnimationFrame((()=>{this.progressBars.forEach(((t,e)=>{if(!(0!=this.objectives[e].length))return t.innerHTML="",t.setAttribute("aria-valuenow","100"),void(t.style.width="100%");const i=Math.floor(this.objectives[e].reduce(((t,e)=>t+e.percentage),0)/this.objectives[e].length);t.innerHTML=`${i}%`,t.setAttribute("aria-valuenow",i.toString()),t.style.width=`${i}%`}))}))}async initMenu(){await this.bootstrap.loadCollapseModule(),this.redraw()}async init(){this.progressMenu=document.querySelector("#progreso_mp"),this.progressBars=Array.from(document.querySelectorAll(".progress-bar")),this.objectives=Array.from(document.querySelectorAll("section.container")).map((t=>Array.from(t.querySelectorAll(".objective")).map((t=>({id:t.id,percentage:0})))))}};o=__decorate([(0,s.k)({global:!0}),__metadata("design:paramtypes",[n.default,r.A])],o);const c=o}}]);