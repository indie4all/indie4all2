"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[99296],{27171:(t,e,i)=>{i.d(e,{A:()=>RouletteElement});var n=i(46894),o=i(19412);class RouletteElement extends((0,n.A)(o.A)){constructor(t,e,i,n){super(t,e,i,n),this.voiceControl=t,this.utils=e,this.i18n=i,this.alert=n}get questions(){return this._questions}async init(){await super.init(),this.spinner=this.widget.querySelector(".roulette-spin"),this.elementsToHideWhenQuestion=Array.from(this.widget.querySelectorAll(".container-roulette,.roulette-lifes,.roulette-heading")),this.categories=Array.from(this.widget.querySelectorAll(".roulette-category")),this.lifesContainer=this.widget.querySelector(".roulette-lifes"),this.circle=this.widget.querySelector(".roulette-circle"),this.lifes=Array.from(this.widget.querySelectorAll(".fa-heart")),this.widget.querySelector(".roulette-spinner-"+this.categories.length).classList.remove("d-none")}check(){}voiceControlRepeat(){this.alert.info(this.i18n.vc.value("info.containertest"))}voiceControlReset(){this.reset()}voiceControlSelect(){if(this.widget.querySelector(".roulette-spin").click(),this.currentQuestion){const t=this.children.find((t=>this.currentQuestion.contains(t.widget)));this.voiceControl.addTarget(t.id)}}}},75015:(t,e,i)=>{i.d(e,{HB:()=>VideoReadyInteraction,Hc:()=>VideoEndInteraction,Pm:()=>TabClickedInteraction,SB:()=>VideoPlayingInteraction,Ym:()=>VideoPauseInteraction,fy:()=>AudioPauseInteraction,gY:()=>VideoMaximizedInteraction,nz:()=>ActivityResetInteraction,pK:()=>AudioPlayInteraction,ro:()=>AudioStopInteraction,s9:()=>VideoMinimizedInteraction,sV:()=>ActivityCheckInteraction,uX:()=>VideoPlayInteraction,yz:()=>ActivityFinishedInteraction});class Interaction{constructor(t){this._widgetId=t.id,this._widgetType=t.type,this._widgetDescription=t.description}get id(){return this._widgetId}get type(){return this._widgetType}get description(){return this._widgetDescription}}class ActivityResetInteraction extends Interaction{}class ActivityCheckInteraction extends Interaction{constructor(t){super(t),this._score=t.score}get score(){return this._score}}class ActivityFinishedInteraction extends Interaction{}class TabClickedInteraction extends Interaction{constructor(t){super(t),this._tab=t.tab}get tab(){return this._tab}}class AudioPlayInteraction extends Interaction{}class AudioPauseInteraction extends Interaction{}class AudioStopInteraction extends Interaction{}class VideoInteraction extends Interaction{constructor(t){super(t),this._time=t.time,this._duration=t.duration}get time(){return this._time}get duration(){return this._duration}}class VideoPlayInteraction extends VideoInteraction{}class VideoPlayingInteraction extends VideoInteraction{}class VideoEndInteraction extends VideoInteraction{}class VideoPauseInteraction extends VideoInteraction{}class VideoReadyInteraction extends Interaction{}class VideoMaximizedInteraction extends Interaction{}class VideoMinimizedInteraction extends Interaction{}},90585:(t,e,i)=>{i.d(e,{default:()=>V});var n=i(65360),o=i(75015),s=i(7979),r=i(24971),a=i(40561),c=i(97523),l=i(52176),d=i(35999),u=i(37607),h=i(92652),m=i(27171),g=i(70583),y=i(61709),f=i(36097),I=i.n(f);const p=i.p+"../../../img/gamy-ok.avif",v=i.p+"../../../img/gamy-correct.avif",A=i.p+"../../../img/gamy-wrong.avif";var w=i(50667),S=i(83034),__decorate=function(t,e,i,n){var o,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,i,r):o(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let x=class GamificationStudentUnit extends l.A{constructor(t,e,i,n,o,s,r,a,c,l,d){super(t,e,i,n,o,s,r,a,c,d),this.factory=t,this.menu=e,this.voiceControl=i,this.bootstrap=n,this.utils=o,this.i18n=s,this.code=r,this.mathjax=a,this.gamification=c,this.interaction=l,this.alert=d}showActivitySent(){var t;const e=this.modalModule.getOrCreateInstance(this.modal);e.hide(),this.modal.querySelector(".modal-title").innerHTML=this.i18n.value("common.sent");const i=this.modal.querySelector(".modal-logo-img");i.src=p,i.alt=this.i18n.value("gamification.gamy.greeting"),this.modal.querySelector(".modal-title").innerHTML=this.i18n.value("common.sent"),null===(t=this.modal.querySelector(".gamification-ranking"))||void 0===t||t.remove(),e.show()}showScore(t){var e;t.forEach((t=>{t.points=Math.round(1e3*t.points),t.total=Math.round(1e3*t.total)}));const i=t.map(((t,e)=>t.id===this.gamification.user.id||e<=2?t:{...t,name:t.name.replace(/./g,"***")})),n=this.modalModule.getOrCreateInstance(this.modal);n.hide(),this.modal.classList.add("changing"),null===(e=this.modal.querySelector(".gamification-ranking"))||void 0===e||e.remove();const o=i.find((t=>t.id===this.gamification.user.id)),s=(null==o?void 0:o.correct)?v:A,r=this.i18n.value((null==o?void 0:o.correct)?"common.correct":"common.incorrect"),a=this.i18n.value((null==o?void 0:o.correct)?"gamification.gamy.correct":"gamification.gamy.wrong"),c=this.modal.querySelector(".modal-logo-img");if(c.src=s,c.alt=a,this.modal.querySelector(".modal-title").innerHTML=r,i.length){i.sort(((t,e)=>e.total-t.total));const t=I()({students:i,me:this.gamification.user});this.modal.querySelector(".modal-body").innerHTML+=t}setTimeout((()=>n.show()),500),setTimeout((()=>this.modal.classList.remove("changing")),1e3)}async init(){await super.init(),this.interaction.getInteractions(o.sV).subscribe((t=>{this.activity instanceof m.A&&t.id!==this.activity.id||this.showActivitySent()})),await this.gamification.init(),this.gamification.user?this.gamification.join():window.location.replace("index.html")}};x=__decorate([(0,n.k)(),__metadata("design:paramtypes",[a.default,h.default,y.A,s.A,g.A,S.A,r.A,u.A,c.default,d.A,w.A])],x);const V=x}}]);