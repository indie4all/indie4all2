"use strict";(self.webpackChunkCDN=self.webpackChunkCDN||[]).push([[5507],{20171:(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});var s=i(16492),r=i(75015),n=i(7979),o=i(35999),c=i(71540),l=i(70583),a=i(61709),h=i(48483),u=i(50667),d=i(83034),__decorate=function(t,e,i,s){var r,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(n<3?r(o):n>3?r(e,i,o):r(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let m=class MatchColumnsOpenElement extends c.A{constructor(t,e,i,s,r,n,o){super(t,r,e,i,o),this.bootstrap=t,this.utils=e,this.i18n=i,this.interaction=s,this.voiceControl=r,this.contentService=n,this.alert=o}check(){const t=Array.from(this.widget.querySelectorAll(".match-column .column-list")).map(((t,e)=>Array.from(t.querySelectorAll(".column-term .term-button")).map((t=>t.dataset.term)))),e=this.solutions.reduce(((e,i,s)=>e+i.filter((e=>t[s].includes(e))).length),0)/this.terms.length;this.interaction.emit(new r.sV({id:this.id,type:this.type,description:this.description,score:e})),1==e&&this.interaction.emit(new r.yz({id:this.id,type:this.type,description:this.description})),this.showFeedback()}reset(){super.reset();const t=Array.from(this.widget.querySelectorAll(".column-term"));t.forEach((t=>t.classList.remove("init")));const e=this.widget.querySelector(".term-button");e.innerHTML="",e.dataset.term="",e.setAttribute("tabindex","-1"),e.setAttribute("tabindex","0");this.widget.querySelector(".match-terms .column-list").append(...t),t.forEach(((t,e)=>{t.classList.add("init");const i=t.querySelector(".term-button");i.dataset.term=this.terms[e],i.innerHTML=this.terms[e]})),this.widget.querySelector(".text-result").innerHTML=""}showFeedback(){const t=Array.from(this.widget.querySelectorAll(".match-column .column-list")),e=this.terms.map((t=>this.widget.querySelector('[data-term="'+t+'"]').closest(".column-term"))).filter((e=>{const i=t.indexOf(e.closest(".column-list"));if(-1===i)return!0;const s=e.querySelector(".term-button");return!this.solutions[i].includes(s.dataset.term)})),i=this.terms.length-e.length;this.widget.querySelector(".match-terms .column-list").append(...e),this.widget.querySelector(".text-result").innerHTML=this.i18n.value("common.num-correct",{num:i})}async init(){await super.init(),this.solutions=await this.contentService.get(this.id),this.terms=this.solutions.flat(),this.terms.sort(((t,e)=>t.localeCompare(e)));Array.from(this.widget.querySelectorAll(".column-term")).forEach(((t,e)=>{t.classList.add("init"),t.querySelector(".term-button").dataset.term=this.terms[e],t.querySelector(".term-button").innerHTML=this.terms[e]})),this.widget.addEventListener("click",(t=>{t.target.classList.contains("btn-reset")&&this.reset()})),console.debug("[MatchColumns] Initialized")}};m=__decorate([(0,s.x)({selector:".widget-match-columns"}),__metadata("design:paramtypes",[n.A,l.A,d.A,o.A,a.A,h.A,u.A])],m);const f=m},48483:(t,e,i)=>{i.d(e,{A:()=>o});var s=i(65360),r=i(70583),__decorate=function(t,e,i,s){var r,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(n<3?r(o):n>3?r(e,i,o):r(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let n=class ContentService{constructor(t){this.utils=t,this.loading=!1}async get(t){for(;this.loading;)await this.utils.sleep(100);if(this.content||(this.loading=!0,this.content=await fetch("./content.json").then((t=>t.json())),this.loading=!1),!this.content[t])throw new Error(`Widget ${t} not found`);return JSON.parse(this.utils.b64DecodeUnicode(this.content[t]))}};n=__decorate([(0,s.k)({global:!0}),__metadata("design:paramtypes",[r.A])],n);const o=n}}]);